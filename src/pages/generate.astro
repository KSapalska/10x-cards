---
import Layout from "../layouts/Layout.astro";
import FlashcardGenerationView from "../components/FlashcardGenerationView";

// Protected route - middleware handles redirect if not authenticated
// This is a safety check in case middleware is bypassed
if (!Astro.locals.session) {
  return Astro.redirect("/auth/login?returnTo=/generate");
}
---

<Layout title="Generuj fiszki - 10xCards" showHeader={true}>
  <main class="min-h-screen bg-background pt-16">
    <FlashcardGenerationView client:load />
  </main>
</Layout>
